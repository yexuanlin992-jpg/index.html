<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eksplorasi Planet Tata Surya</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4facfe;
            --secondary: #00f2fe;
            --dark: #1a1a2e;
            --darker: #16213e;
            --light: #f8f9fa;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --radius: 12px;
            --shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            color: var(--light);
            min-height: 100vh;
            padding-bottom: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        header {
            text-align: center;
            padding: 2rem 0;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.8rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: var(--radius);
            color: var(--light);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: var(--dark);
        }

        .filter-btn.game-active {
            background: linear-gradient(to right, var(--warning), #ff8c00);
            color: var(--dark);
        }

        .filter-btn.favorites-active {
            background: linear-gradient(to right, #ffd700, #ff8c00);
            color: var(--dark);
        }

        .search-container {
            max-width: 500px;
            margin: 0 auto 2rem;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            border-radius: var(--radius);
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 2px var(--primary);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
        }

        .planets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .planet-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius);
            overflow: hidden;
            transition: var(--transition);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .planet-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
            background: rgba(255, 255, 255, 0.08);
        }

        .planet-header {
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .planet-name {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .favorite-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .favorite-btn.active {
            color: var(--warning);
        }

        .planet-icon {
            font-size: 3rem;
            text-align: center;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.2);
        }

        .planet-details {
            padding: 1.5rem;
        }

        .planet-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .detail-label {
            font-weight: 600;
            opacity: 0.8;
        }

        .detail-value {
            font-weight: 500;
        }

        .learn-more-btn {
            display: block;
            width: 100%;
            padding: 0.8rem;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: var(--dark);
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
        }

        .learn-more-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .game-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 3rem;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .game-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .game-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, var(--warning), #ff8c00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .game-description {
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .game-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 2rem;
            background: rgba(0, 0, 0, 0.2);
            padding: 1rem;
            border-radius: var(--radius);
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .game-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .game-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .game-btn.primary {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: var(--dark);
        }

        .game-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        .game-btn.warning {
            background: linear-gradient(to right, var(--warning), #ff8c00);
            color: var(--dark);
        }

        .game-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .game-btn:not(:disabled):hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .game-board {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .game-column {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius);
            padding: 1.5rem;
        }

        .column-title {
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            opacity: 0.9;
        }

        .game-planets, .game-names {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
        }

        .game-planet, .game-name {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: grab;
            transition: var(--transition);
            border: 2px solid transparent;
            position: relative;
            min-height: 120px;
        }

        .game-planet:hover, .game-name:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-3px);
        }

        .game-planet.dragging, .game-name.dragging {
            opacity: 0.7;
            transform: scale(0.95);
        }

        .game-planet.correct, .game-name.correct {
            border-color: var(--success);
            background: rgba(40, 167, 69, 0.2);
        }

        .game-planet.incorrect, .game-name.incorrect {
            border-color: var(--danger);
            background: rgba(220, 53, 69, 0.2);
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .game-planet-shape {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .planet-texture {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            opacity: 0.3;
        }

        .game-planet-icon {
            font-size: 1.5rem;
            color: white;
        }

        .game-message {
            text-align: center;
            padding: 1rem;
            border-radius: var(--radius);
            margin-top: 1rem;
            font-weight: 600;
        }

        .game-message.success {
            background: rgba(40, 167, 69, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .game-message.error {
            background: rgba(220, 53, 69, 0.2);
            color: var(--danger);
            border: 1px solid var(--danger);
        }

        footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0.7;
        }

        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: 1fr;
            }
            
            .planets-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .game-stats {
                flex-direction: column;
                gap: 1rem;
            }
            
            .game-controls {
                flex-wrap: wrap;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Eksplorasi Planet Tata Surya</h1>
            <p class="subtitle">Pelajari tentang planet-planet di tata surya kita dan uji pengetahuan Anda dengan permainan interaktif</p>
        </header>

        <div class="nav-tabs">
            <button class="filter-btn active" data-filter="all">
                <i class="fas fa-globe"></i> Semua Planet
            </button>
            <button class="filter-btn" data-filter="terrestrial">
                <i class="fas fa-mountain"></i> Planet Kebumian
            </button>
            <button class="filter-btn" data-filter="gas-giant">
                <i class="fas fa-wind"></i> Raksasa Gas
            </button>
            <button class="filter-btn" id="showFavorites">
                <i class="fas fa-star"></i> Favorit Saya
            </button>
            <button class="filter-btn" id="showGame">
                <i class="fas fa-gamepad"></i> Permainan
            </button>
        </div>

        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-input" placeholder="Cari planet...">
        </div>

        <!-- Grid Planet -->
        <div id="planetsGrid" class="planets-grid">
            <!-- Planet cards akan diisi oleh JavaScript -->
        </div>

        <!-- Game Section -->
        <section id="gameSection" class="game-section" style="display: none;">
            <div class="game-header">
                <h2 class="game-title">Tantangan Planet</h2>
                <p class="game-description">Seret dan lepas nama planet ke gambar yang sesuai. Dapatkan poin untuk setiap jawaban benar!</p>
            </div>

            <div class="game-stats">
                <div class="stat">
                    <div class="stat-value" id="score">0</div>
                    <div class="stat-label">Poin</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="timer">60</div>
                    <div class="stat-label">Detik</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="matches">0/8</div>
                    <div class="stat-label">Cocok</div>
                </div>
            </div>

            <div class="game-controls">
                <button class="game-btn primary" id="startGame">
                    <i class="fas fa-play"></i> Mulai Permainan
                </button>
                <button class="game-btn secondary" id="resetGame" disabled>
                    <i class="fas fa-redo"></i> Ulangi
                </button>
                <button class="game-btn warning" id="showHint">
                    <i class="fas fa-lightbulb"></i> Petunjuk
                </button>
            </div>

            <div class="game-board">
                <div class="game-column">
                    <h3 class="column-title">Planet</h3>
                    <div id="planetsContainer" class="game-planets">
                        <!-- Planet akan diisi oleh JavaScript -->
                    </div>
                </div>
                <div class="game-column">
                    <h3 class="column-title">Nama Planet</h3>
                    <div id="namesContainer" class="game-names">
                        <!-- Nama planet akan diisi oleh JavaScript -->
                    </div>
                </div>
            </div>

            <div id="gameMessage" class="game-message"></div>
        </section>

        <footer>
            <p>© 2023 Eksplorasi Planet Tata Surya | Dibuat dengan <i class="fas fa-heart" style="color: #e74c3c;"></i> untuk pendidikan</p>
        </footer>
    </div>

    <script>
        // Data planet
        const planets = [
            {
                id: 1,
                name: "Merkurius",
                type: "terrestrial",
                diameter: "4.879 km",
                distance: "57.9 juta km",
                orbit: "88 hari",
                rotation: "59 hari",
                temperature: "167°C",
                moons: 0,
                description: "Planet terkecil dan terdekat dengan Matahari. Permukaannya berbatu dengan banyak kawah.",
                color: "#8C8C8C",
                texture: "radial-gradient(circle, #A6A6A6, #737373)",
                icon: "fas fa-circle",
                isFavorite: false
            },
            {
                id: 2,
                name: "Venus",
                type: "terrestrial",
                diameter: "12.104 km",
                distance: "108.2 juta km",
                orbit: "225 hari",
                rotation: "243 hari",
                temperature: "464°C",
                moons: 0,
                description: "Planet terpanas di tata surya dengan atmosfer tebal beracun dan efek rumah kaca yang ekstrem.",
                color: "#E6B87E",
                texture: "radial-gradient(circle, #F5D6A3, #D4A574)",
                icon: "fas fa-circle",
                isFavorite: false
            },
            {
                id: 3,
                name: "Bumi",
                type: "terrestrial",
                diameter: "12.742 km",
                distance: "149.6 juta km",
                orbit: "365.25 hari",
                rotation: "24 jam",
                temperature: "15°C",
                moons: 1,
                description: "Planet biru kita, satu-satunya yang diketahui mendukung kehidupan dengan air cair dan atmosfer kaya oksigen.",
                color: "#6B93D6",
                texture: "radial-gradient(circle, #87ACE8, #4A7BC8)",
                icon: "fas fa-globe-americas",
                isFavorite: false
            },
            {
                id: 4,
                name: "Mars",
                type: "terrestrial",
                diameter: "6.779 km",
                distance: "227.9 juta km",
                orbit: "687 hari",
                rotation: "24.6 jam",
                temperature: "-65°C",
                moons: 2,
                description: "Planet merah dengan gunung berapi terbesar dan ngarai terdalam di tata surya.",
                color: "#CD5C5C",
                texture: "radial-gradient(circle, #E57373, #B34747)",
                icon: "fas fa-circle",
                isFavorite: false
            },
            {
                id: 5,
                name: "Jupiter",
                type: "gas-giant",
                diameter: "139.820 km",
                distance: "778.5 juta km",
                orbit: "12 tahun",
                rotation: "9.9 jam",
                temperature: "-110°C",
                moons: 79,
                description: "Planet terbesar di tata surya, raksasa gas dengan Bintik Merah Besar yang legendaris.",
                color: "#D8CA9D",
                texture: "radial-gradient(circle, #F0E5BE, #C4B585)",
                icon: "fas fa-circle",
                isFavorite: false
            },
            {
                id: 6,
                name: "Saturnus",
                type: "gas-giant",
                diameter: "116.460 km",
                distance: "1.43 miliar km",
                orbit: "29 tahun",
                rotation: "10.7 jam",
                temperature: "-140°C",
                moons: 82,
                description: "Dikenal dengan cincinnya yang menakjubkan, terdiri dari miliaran partikel es dan batu.",
                color: "#E3D8B0",
                texture: "radial-gradient(circle, #F5EBC3, #D1C298)",
                icon: "fas fa-ring",
                isFavorite: false
            },
            {
                id: 7,
                name: "Uranus",
                type: "gas-giant",
                diameter: "50.724 km",
                distance: "2.87 miliar km",
                orbit: "84 tahun",
                rotation: "17.2 jam",
                temperature: "-195°C",
                moons: 27,
                description: "Raksasa es yang berputar pada sisinya, dengan sistem cincin vertikal yang unik.",
                color: "#4FD0E7",
                texture: "radial-gradient(circle, #6BDFF7, #2FB8D1)",
                icon: "fas fa-circle",
                isFavorite: false
            },
            {
                id: 8,
                name: "Neptunus",
                type: "gas-giant",
                diameter: "49.244 km",
                distance: "4.5 miliar km",
                orbit: "165 tahun",
                rotation: "16.1 jam",
                temperature: "-200°C",
                moons: 14,
                description: "Planet terjauh dari Matahari, dengan angin terkuat di tata surya mencapai 2.100 km/jam.",
                color: "#5B6DF0",
                texture: "radial-gradient(circle, #7B8AFF, #3A4CD6)",
                icon: "fas fa-circle",
                isFavorite: false
            }
        ];

        // Variabel global
        let currentFilter = 'all';
        let isShowingFavorites = false;
        let isShowingGame = false;
        let isGameActive = false;
        let gameScore = 0;
        let gameTime = 60;
        let correctMatches = 0;
        let gameTimer;
        let currentDraggedElement = null;

        // Inisialisasi halaman
        document.addEventListener('DOMContentLoaded', function() {
            renderPlanets();
            setupEventListeners();
            updateFavoritesSection();
        });

        // Render daftar planet
        function renderPlanets() {
            const planetsGrid = document.getElementById('planetsGrid');
            const gameSection = document.getElementById('gameSection');
            
            // Sembunyikan/tampilkan section berdasarkan mode
            if (isShowingGame) {
                planetsGrid.style.display = 'none';
                gameSection.style.display = 'block';
                // Pastikan game board di-setup jika belum
                if (!document.querySelector('.game-planet')) {
                    setupGameBoard();
                }
                return;
            } else {
                planetsGrid.style.display = 'grid';
                gameSection.style.display = 'none';
            }
            
            // Filter planet berdasarkan kriteria
            let filteredPlanets = planets;
            
            if (currentFilter !== 'all') {
                filteredPlanets = filteredPlanets.filter(planet => planet.type === currentFilter);
            }
            
            if (isShowingFavorites) {
                filteredPlanets = filteredPlanets.filter(planet => planet.isFavorite);
            }
            
            // Render kartu planet
            planetsGrid.innerHTML = filteredPlanets.map(planet => `
                <div class="planet-card" data-planet-id="${planet.id}">
                    <div class="planet-header">
                        <h3 class="planet-name">${planet.name}</h3>
                        <button class="favorite-btn ${planet.isFavorite ? 'active' : ''}" data-planet-id="${planet.id}">
                            <i class="fas fa-star"></i>
                        </button>
                    </div>
                    <div class="planet-icon" style="color: ${planet.color}">
                        <i class="${planet.icon}"></i>
                    </div>
                    <div class="planet-details">
                        <div class="planet-detail">
                            <span class="detail-label">Jenis</span>
                            <span class="detail-value">${planet.type === 'terrestrial' ? 'Kebumian' : 'Raksasa Gas'}</span>
                        </div>
                        <div class="planet-detail">
                            <span class="detail-label">Diameter</span>
                            <span class="detail-value">${planet.diameter}</span>
                        </div>
                        <div class="planet-detail">
                            <span class="detail-label">Jarak dari Matahari</span>
                            <span class="detail-value">${planet.distance}</span>
                        </div>
                        <div class="planet-detail">
                            <span class="detail-label">Orbit</span>
                            <span class="detail-value">${planet.orbit}</span>
                        </div>
                        <div class="planet-detail">
                            <span class="detail-label">Rotasi</span>
                            <span class="detail-value">${planet.rotation}</span>
                        </div>
                        <div class="planet-detail">
                            <span class="detail-label">Suhu Rata-rata</span>
                            <span class="detail-value">${planet.temperature}</span>
                        </div>
                        <div class="planet-detail">
                            <span class="detail-label">Bulan</span>
                            <span class="detail-value">${planet.moons}</span>
                        </div>
                        <button class="learn-more-btn" data-planet-id="${planet.id}">
                            <i class="fas fa-info-circle"></i> Pelajari Lebih Lanjut
                        </button>
                    </div>
                </div>
            `).join('');
            
            // Tambahkan event listeners untuk tombol favorit dan learn more
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const planetId = parseInt(this.getAttribute('data-planet-id'));
                    toggleFavorite(planetId);
                });
            });
            
            document.querySelectorAll('.learn-more-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const planetId = parseInt(this.getAttribute('data-planet-id'));
                    showPlanetModal(planetId);
                });
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Filter buttons
            document.querySelectorAll('.filter-btn:not(#showFavorites):not(#showGame)').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Reset state game dan favorit
                    isShowingGame = false;
                    isShowingFavorites = false;
                    document.getElementById('showGame').classList.remove('game-active');
                    document.getElementById('showFavorites').classList.remove('favorites-active');
                    
                    // Set filter aktif
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentFilter = this.getAttribute('data-filter');
                    renderPlanets();
                });
            });
            
            // Tombol favorit
            document.getElementById('showFavorites').addEventListener('click', function() {
                // Reset state game
                isShowingGame = false;
                document.getElementById('showGame').classList.remove('game-active');
                
                // Toggle favorit
                isShowingFavorites = !isShowingFavorites;
                if (isShowingFavorites) {
                    this.classList.add('favorites-active');
                    document.querySelectorAll('.filter-btn:not(#showFavorites)').forEach(btn => btn.classList.remove('active'));
                    currentFilter = 'all';
                } else {
                    this.classList.remove('favorites-active');
                    document.querySelector('.filter-btn[data-filter="all"]').classList.add('active');
                }
                renderPlanets();
            });
            
            // Tombol game
            document.getElementById('showGame').addEventListener('click', function() {
                // Reset state favorit
                isShowingFavorites = false;
                document.getElementById('showFavorites').classList.remove('favorites-active');
                document.querySelectorAll('.filter-btn:not(#showGame)').forEach(btn => btn.classList.remove('active'));
                
                // Toggle game
                isShowingGame = !isShowingGame;
                if (isShowingGame) {
                    this.classList.add('game-active');
                    currentFilter = 'all';
                    renderPlanets();
                } else {
                    this.classList.remove('game-active');
                    document.querySelector('.filter-btn[data-filter="all"]').classList.add('active');
                    currentFilter = 'all';
                    renderPlanets();
                }
            });
            
            // Search
            document.querySelector('.search-input').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const planetCards = document.querySelectorAll('.planet-card');
                
                planetCards.forEach(card => {
                    const planetName = card.querySelector('.planet-name').textContent.toLowerCase();
                    if (planetName.includes(searchTerm)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
            
            // Event listeners untuk permainan
            setupGameEventListeners();
        }

        // Setup event listeners untuk permainan
        function setupGameEventListeners() {
            document.getElementById('startGame').addEventListener('click', startGame);
            document.getElementById('resetGame').addEventListener('click', resetGame);
            document.getElementById('showHint').addEventListener('click', showHint);
        }

        // Toggle favorit
        function toggleFavorite(planetId) {
            const planet = planets.find(p => p.id === planetId);
            if (planet) {
                planet.isFavorite = !planet.isFavorite;
                renderPlanets();
                updateFavoritesSection();
                
                // Tampilkan pesan sukses
                const message = planet.isFavorite ? 
                    `${planet.name} ditambahkan ke favorit!` : 
                    `${planet.name} dihapus dari favorit!`;
                showTemporaryMessage(message, 'success');
            }
        }

        // Update bagian favorit
        function updateFavoritesSection() {
            const favoritePlanets = planets.filter(planet => planet.isFavorite);
            const showFavoritesBtn = document.getElementById('showFavorites');
            
            if (favoritePlanets.length > 0) {
                showFavoritesBtn.innerHTML = `<i class="fas fa-star"></i> Favorit Saya (${favoritePlanets.length})`;
            } else {
                showFavoritesBtn.innerHTML = `<i class="fas fa-star"></i> Favorit Saya`;
            }
        }

        // Tampilkan modal planet
        function showPlanetModal(planetId) {
            const planet = planets.find(p => p.id === planetId);
            if (!planet) return;
            
            // Buat modal sederhana
            const modal = document.createElement('div');
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
            modal.style.display = 'flex';
            modal.style.justifyContent = 'center';
            modal.style.alignItems = 'center';
            modal.style.zIndex = '1000';
            
            modal.innerHTML = `
                <div style="background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 12px; padding: 2rem; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2 style="margin: 0; background: linear-gradient(to right, #4facfe, #00f2fe); -webkit-background-clip: text; background-clip: text; color: transparent;">${planet.name}</h2>
                        <button id="closeModal" style="background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer;">&times;</button>
                    </div>
                    <div style="text-align: center; margin-bottom: 1.5rem;">
                        <div style="font-size: 4rem; color: ${planet.color};">
                            <i class="${planet.icon}"></i>
                        </div>
                    </div>
                    <p style="line-height: 1.6; margin-bottom: 1.5rem;">${planet.description}</p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="font-size: 0.9rem; opacity: 0.8;">Jenis</div>
                            <div style="font-weight: 600;">${planet.type === 'terrestrial' ? 'Kebumian' : 'Raksasa Gas'}</div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="font-size: 0.9rem; opacity: 0.8;">Diameter</div>
                            <div style="font-weight: 600;">${planet.diameter}</div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="font-size: 0.9rem; opacity: 0.8;">Jarak dari Matahari</div>
                            <div style="font-weight: 600;">${planet.distance}</div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                            <div style="font-size: 0.9rem; opacity: 0.8;">Orbit</div>
                            <div style="font-weight: 600;">${planet.orbit}</div>
                        </div>
                    </div>
                    <button style="width: 100%; padding: 0.8rem; background: linear-gradient(to right, #4facfe, #00f2fe); color: #16213e; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 1rem;">Tutup</button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Event listener untuk menutup modal
            modal.querySelector('#closeModal').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            modal.querySelector('button').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            // Tutup modal saat klik di luar
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            });
        }

        // Tampilkan pesan sementara
        function showTemporaryMessage(message, type) {
            const messageEl = document.createElement('div');
            messageEl.textContent = message;
            messageEl.style.position = 'fixed';
            messageEl.style.top = '20px';
            messageEl.style.right = '20px';
            messageEl.style.padding = '1rem 1.5rem';
            messageEl.style.borderRadius = '8px';
            messageEl.style.fontWeight = '600';
            messageEl.style.zIndex = '1001';
            messageEl.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.3)';
            messageEl.style.transition = 'all 0.3s ease';
            
            if (type === 'success') {
                messageEl.style.background = 'rgba(40, 167, 69, 0.9)';
                messageEl.style.color = 'white';
            } else {
                messageEl.style.background = 'rgba(220, 53, 69, 0.9)';
                messageEl.style.color = 'white';
            }
            
            document.body.appendChild(messageEl);
            
            // Hilangkan pesan setelah 3 detik
            setTimeout(() => {
                messageEl.style.opacity = '0';
                messageEl.style.transform = 'translateX(100px)';
                setTimeout(() => {
                    if (document.body.contains(messageEl)) {
                        document.body.removeChild(messageEl);
                    }
                }, 300);
            }, 3000);
        }

        // Fungsi permainan
        function startGame() {
            // Check jika drag-and-drop didukung
            if (!('draggable' in document.createElement('div'))) {
                showGameMessage('Browser Anda tidak mendukung fitur drag-and-drop. Gunakan browser modern seperti Chrome.', 'error');
                return;
            }
            
            isGameActive = true;
            gameScore = 0;
            correctMatches = 0;
            gameTime = 60;
            currentDraggedElement = null;

            document.getElementById('startGame').disabled = true;
            document.getElementById('resetGame').disabled = false;
            document.getElementById('gameMessage').className = 'game-message';
            document.getElementById('gameMessage').textContent = '';
            document.getElementById('timer').style.color = '#4facfe';

            updateGameStats();
            setupGameBoard();
            startTimer();
        }

        function resetGame() {
            clearInterval(gameTimer);
            isGameActive = false;
            currentDraggedElement = null;
            document.getElementById('startGame').disabled = false;
            document.getElementById('resetGame').disabled = true;
            document.getElementById('gameMessage').className = 'game-message';
            document.getElementById('gameMessage').textContent = '';

            gameScore = 0;
            correctMatches = 0;
            gameTime = 60;
            updateGameStats();
            setupGameBoard();
        }

        // Setup game board
        function setupGameBoard() {
            const planetsContainer = document.getElementById('planetsContainer');
            const namesContainer = document.getElementById('namesContainer');
            
            // Acak urutan planet untuk tantangan
            const shuffledPlanets = [...planets].sort(() => Math.random() - 0.5);
            const shuffledNames = [...planets].sort(() => Math.random() - 0.5);
            
            planetsContainer.innerHTML = shuffledPlanets.map(planet => `
                <div class="game-planet" data-planet-id="${planet.id}" draggable="true">
                    <div class="game-planet-shape" style="background: ${planet.color}">
                        <i class="${planet.icon} game-planet-icon"></i>
                    </div>
                    <div class="planet-texture" style="background: ${planet.texture}"></div>
                </div>
            `).join('');
            
            namesContainer.innerHTML = shuffledNames.map(planet => `
                <div class="game-name" data-planet-id="${planet.id}" draggable="true">
                    ${planet.name}
                </div>
            `).join('');
            
            // Setup drag and drop
            setupDragAndDrop();
        }

        // Setup drag and drop
        function setupDragAndDrop() {
            const draggableElements = document.querySelectorAll('.game-planet, .game-name');
            
            draggableElements.forEach(element => {
                // Desktop: Drag events
                element.addEventListener('dragstart', handleDragStart);
                element.addEventListener('dragend', handleDragEnd);
                element.addEventListener('dragover', handleDragOver);
                element.addEventListener('drop', handleDrop);
            });
        }

        // Handler untuk drag
        function handleDragStart(e) {
            if (!isGameActive) return;
            currentDraggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.setData('text/plain', this.getAttribute('data-planet-id'));
        }

        function handleDragEnd() {
            this.classList.remove('dragging');
            currentDraggedElement = null;
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        // Handler untuk drop
        function handleDrop(e) {
            e.preventDefault();
            if (!isGameActive || !currentDraggedElement) return;
            
            const target = e.target.closest('.game-planet, .game-name');
            if (!target || target === currentDraggedElement) return;
            
            const draggedPlanetId = parseInt(currentDraggedElement.getAttribute('data-planet-id'));
            const targetPlanetId = parseInt(target.getAttribute('data-planet-id'));
            
            if (draggedPlanetId === targetPlanetId) {
                // Match benar
                currentDraggedElement.classList.add('correct');
                target.classList.add('correct');
                currentDraggedElement.draggable = false;
                target.draggable = false;
                
                gameScore += 10;
                if (gameTime > 45) gameScore += 5;
                else if (gameTime > 30) gameScore += 3;
                correctMatches++;
                
                updateGameStats();
                
                if (correctMatches === planets.length) {
                    endGame(true);
                }
                
                showGameMessage('Benar! +10 poin', 'success');
            } else {
                // Match salah
                currentDraggedElement.classList.add('incorrect');
                target.classList.add('incorrect');
                
                setTimeout(() => {
                    currentDraggedElement.classList.remove('incorrect');
                    target.classList.remove('incorrect');
                }, 1000);
                
                gameScore = Math.max(0, gameScore - 2);
                updateGameStats();
                showGameMessage('Salah! -2 poin', 'error');
            }
        }

        // Update statistik permainan
        function updateGameStats() {
            document.getElementById('score').textContent = gameScore;
            document.getElementById('timer').textContent = gameTime;
            document.getElementById('matches').textContent = `${correctMatches}/${planets.length}`;
        }

        // Timer permainan
        function startTimer() {
            gameTimer = setInterval(() => {
                gameTime--;
                updateGameStats();
                
                // Ubah warna timer saat waktu hampir habis
                if (gameTime <= 10) {
                    document.getElementById('timer').style.color = '#dc3545';
                }
                
                if (gameTime <= 0) {
                    endGame(false);
                }
            }, 1000);
        }

        // Akhiri permainan
        function endGame(isWin) {
            clearInterval(gameTimer);
            isGameActive = false;
            document.getElementById('startGame').disabled = false;
            document.getElementById('resetGame').disabled = true;
            
            if (isWin) {
                showGameMessage(`Selamat! Anda menang dengan ${gameScore} poin!`, 'success');
            } else {
                showGameMessage(`Waktu habis! Skor akhir: ${gameScore} poin`, 'error');
            }
        }

        // Tampilkan pesan permainan
        function showGameMessage(message, type) {
            const messageEl = document.getElementById('gameMessage');
            messageEl.textContent = message;
            messageEl.className = `game-message ${type}`;
        }

        // Tampilkan petunjuk
        function showHint() {
            if (!isGameActive) {
                showGameMessage('Mulai permainan terlebih dahulu!', 'error');
                return;
            }
            
            // Cari planet yang belum cocok
            const unmatchedPlanets = document.querySelectorAll('.game-planet:not(.correct)');
            if (unmatchedPlanets.length === 0) return;
            
            const randomPlanet = unmatchedPlanets[Math.floor(Math.random() * unmatchedPlanets.length)];
            const planetId = parseInt(randomPlanet.getAttribute('data-planet-id'));
            const planet = planets.find(p => p.id === planetId);
            
            if (planet) {
                showGameMessage(`Petunjuk: ${planet.name} adalah planet ${planet.type === 'terrestrial' ? 'kebumian' : 'raksasa gas'}`, 'success');
                
                // Kurangi skor untuk menggunakan petunjuk
                gameScore = Math.max(0, gameScore - 3);
                updateGameStats();
            }
        }
    </script>
</body>
</html>
